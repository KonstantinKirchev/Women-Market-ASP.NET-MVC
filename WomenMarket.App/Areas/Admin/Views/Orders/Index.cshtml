@using WomenMarket.App.Areas.Admin.Models.ViewModels
@using WomenMarket.Models.Enums
@model IEnumerable<OrderViewModel>
@{
    ViewBag.Title = "Orders";
}

<section id="viewAllOrders">
    @if (Model == null)
    {
        <div class="container">
            <h1>There are no orders.</h1>
        </div>
    }
    else
    {
        <div class="container">
            <h1>@ViewBag.Title</h1>
            <br>
            <span>Sort by: </span>
            <select class="selectpicker" id="status">
                <option>All</option>
                <option>Open</option>
                <option>Pending</option>
                <option>Delivered</option>
            </select>
            <br>
            <br>
            <div class="oreders" id="orders">
                @{
                    Html.RenderPartial("OrdersByStatusPartial", Model);
                }
            </div>
            <div id="customerInfo"></div>
        </div>
    }
</section>

@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function () {
            $("#status").change(function () {
                var statusSelected = $("select option:selected").first().text();
                $.get('@Url.Action("OrdersByStatusPartial")',
                    { status: statusSelected }, function (data) {
                        $("#orders").html(data);
                    });
            });
        });
    </script>
}





